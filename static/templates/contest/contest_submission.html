<div style = 'margin-top:20px;' >

    <div>
        <span class="ui pagination menu">
            <a class="icon item" href = 'javascript:void(0)' onclick = 'Submission_List.request({{1}})' ><i class="angle double left icon"></i></a>
            {% for it in page_list %}
                {% if it == currentpage %}
                    <a class="active item" href = 'javascript:void(0)' onclick = 'Submission_List.request({{it}})'  >{{it}}</a>
                {% else %}
                    <a class="item" href = 'javascript:void(0)' onclick = 'Submission_List.request({{it}})'  >{{it}}</a>
                {% endif %}
            {% endfor %}
            <a class="icon item" href = 'javascript:void(0)' onclick = 'Submission_List.request({{max_page}})' ><i class="angle double right icon"></i></a>
        </span>
        <div class = 'ui primary button' style = 'float:right' onclick = 'Submission_List.refresh( {{ currentpage }} )' ><i class = 'sync icon'></i> Refresh </div>
        
    </div>

    {% set has_perm = user.has_perm( 'contest.view_all' ) %}
    
    <table class = "ui padded table" style = 'text-align:center;' >
        <thread>
                <div class = 'status list menu'>
                    <tr>
                        <th>ID</th>
                        <th>When</th>
                        {% if has_perm %}
                            <th>User</th>
                        {% endif %}
                        <th>Problem</th>
                        <th>Verdict</th>
                        <th>Time</th>
                        <th>Memory</th>
                        <th>Language</th>
                    </tr>
                </div>
        </thread>
            <tbody>
                {% for it in statuslist %}
                    <tr>
                        <td><a data-code = '{{ url( "submission-code" , args = ( it.pk , ) ) }}' data-detail = '{{ url( "submission-detail" , args = ( it.pk , ) ) }}'  href ='javascript:void(0)' onclick = 'Submission_Detail_View.request($(this))'  > {{it.submission_id}} </a></td>
                        <td>{{it.submit_time.strftime('%Y-%m-%d %H:%M:%S')  }}</td> 
                        {% if has_perm %}
                            <td>
                                <a href = '{{ url('user-detail' , args = (it.user.pk,) ) }}' > {{it.user.display_name}} </a>
                            </td>
                        {% endif %}
                        <td><a href = 'javascript:void(0)' onclick = 'Problem_Detail.request( {{ pos_hashtable[it.problem.pk] }} )' >{{it.problem.title}}</a></td>
                        <td style = 'color:{{  it.judge_status | get_judge_result_color }};'><i class = '{{ it.judge_status | get_judge_result_icon }}'></i><b>{{ it.judge_status }}</b></td>
                        {% if it.completed %}
                            <td>
                                {% if it.judge_status | check_judge_result_in_listshow_field %}
                                    {{ it.get_time_cost }} ms
                                {% endif %}
                            </td>
                            <td>
                                {% if it.judge_status | check_judge_result_in_listshow_field == True %}
                                    {{ it.get_memory_cost }} KiB
                                {% endif %}
                            </td>
                        {% else %}
                            <td><i class = 'ui help icon'></i></td>
                            <td><i class = 'ui help icon'></i></td>
                        {% endif %}
                        <td>{{it.language}}</td>
                    </tr>
                {% endfor %}
            </tbody>
    </table>
</div>
