{% extends "base/base.html" %}


{% block content %}
    <div class = 'contest list'>

        <div>
            <span class="ui pagination menu">
                <a class="icon item" href = {{ url('contest-list' , args = (1,) ) }} ><i class="angle double left icon"></i></a>
                {% for it in page_list %}
                    {% if it == currentpage %}
                        <a class="active item" href = {{ url('contest-list' , args = (it,) ) }}  >{{it}}</a>
                    {% else %}
                        <a class="item" href = {{ url('contest-list' , args = (it,) ) }}  >{{it}}</a>
                    {% endif %}
                {% endfor %}
                <a class="icon item" href = {{ url('contest-list' , args = (max_page,) ) }} ><i class="angle double right icon"></i></a>
            </span>
            {% if perms.problem.add_problem %}
                <span style = 'float:right;margin-left:15px;'>
                    <div id = 'new-button' class = 'ui primary edit button'><i class = 'add icon'></i><b>New</b></div>
                </span>
            {% endif %}

            <span class="ui search" style = 'float:right;'>
                <div class="ui left icon input" >
                    <input class="prompt" type="text" placeholder="Problem">
                    <i class="search icon"></i>
                </div>
            </span>

        </div>


        <table class = "ui basic fixed selectable padded table bordered" >
            <thread>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Starttime</th>
                    <th>Length</th>
                </tr>
            </thread>
            <tbody>
                    {# {% for it in problist %}
                    <tr>
                        <td>{{it.problem_id}} </td>
                        <td><a href = {{ url('problem-detail-view' , args = (it.problem_id,) ) }} >{{it.title}}</td>
                        {% if user.is_authenticated == True %}
                            <td>
                                {% if user_analysis[ loop.index0 ] == 2 %}
                                    <i class="green checkmark icon"></i>
                                {% elif user_analysis[ loop.index0 ] == 1 %}
                                    <i class = 'red times icon'> </i>
                                {% endif %}
                            </td>
                        {% endif %}
                        <td>{{ problem_analysis[ loop.index0 ].0 }} / {{ problem_analysis[ loop.index0 ].1 }} </td>
                        {% if problem_analysis[ loop.index0 ].1 == 0 %}
                            <td> 0.00% </td>
                        {% else %}
                            <td> {{ "%.2f" | format( problem_analysis[ loop.index0 ].0 / problem_analysis[ loop.index0 ].1 * 100 ) }} %</td>
                        {% endif %}
                    </tr>
                    {% endfor %} #}
            </tbody>
        </table>


    </div>

{% endblock %}